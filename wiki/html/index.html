<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PACKSAN: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PACKSAN&#160;<span id="projectnumber">0.1</span></div>
   <div id="projectbrief">Linux Kernel module to replace strings inside tcp/udp segments</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>PACKSAN Documentation</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><dl class="author"><dt><b>Authors:</b></dt><dd>Andrea Mambretti, Fabrizio Spada, Alberto Scolari</dd></dl>
<p>****************************************************************** ** Packsan - packet sanitizer for Linux kernel ** ****************************************************************** </p>
<h2><a class="anchor" id="intro"></a>
Introduction</h2>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</p>
<h2><a class="anchor" id="goal"></a>
PACKSAN PROJECT GOAL</h2>
<p>The goal of Packsan project is finding strings inside UDP and TCP segments and substitute them with selected ones. Due to TCP synchronization mechanism, it is possible to replace only strings with the same length as the original ones (otherwise there is packet loss and connection lock). A variable length substitution is instead available with UDP, but putting a much more long string is not suggested because of kernel pagination troubles (and possible kernel panics: be careful!). The iptables rules must be inserted in the mangle table of INPUT or POSTROUTING hooks; other places are not allowed.</p>
<h2><a class="anchor" id="dirs_build"></a>
DIRECTORIES STRUCTURE AND MODULE BUILDING</h2>
<p>Directories are named by the module sources they contain: thus Matcher contains the matcher module sources, Target the target sources and the directories which begin with shared_lib_ contain the sources of libraries to be copied into the proper kernel folder, in order to interface the modules with the userspace. Every directory contains a Makefile with the basic rules to build the module and perform the cleanup: "make clean" removes all the compiled files, and in Matcher and Target the "make" command builds the proper module (xt_packsan.ko for the matcher, xt_PACKSAN.ko for the target); in shared_lib_* dirs it is necessary to specify the name of the file to build, since different Linux distros have different conventions. Thus in Slackware 13.37 the matcher lib module must be named libipt_packsan.so and must be inserted into /usr/libexec/xtables/, while in OpenSUSE the name must be libxt_packsan.so and the directory must be /usr/lib/xtables. Check your distro! Finally it is necessary to load x_tables via the command "modprobe x_tables" and the built modules via "insmod xt_packsan.ko" and "insmod xt_PACKSAN.ko", and configure Iptables via the commands</p>
<p>iptables -A (INPUT|POSTROUTING) -t mangle -m packsan -j PACKSAN</p>
<p>Comments, critics and suggestions are well appreciated and can be sent to <a href="mailto:packsanteam@gmail.com">packsanteam@gmail.com</a> </p>
</div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
